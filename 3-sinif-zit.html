<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3. Sınıf Zıt Anlamlı Kelimeler Testi</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Quicksand', sans-serif;
            background-color: #f4f1ea; /* Sınıf duvarı rengi */
        }
        .main-card {
            background: white;
            border-radius: 1.5rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.07);
        }
        /* Yeni Tebeşir Tahtası Stili */
        .chalkboard {
            background-color: #3d4a55; /* Koyu tahta rengi */
            border: 12px solid #8b5a2b; /* Ahşap çerçeve rengi */
            box-shadow: inset 0 0 10px rgba(0,0,0,0.5), 0 8px 20px rgba(0,0,0,0.2);
        }
        #question-text {
            color: #f0f2f5; /* Tebeşir beyazı */
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
            font-size: 1.75rem; /* Soru için daha büyük font */
            line-height: 2.5rem;
        }
        .option-btn {
            transition: all 0.2s ease-out;
            font-weight: 700;
            color: white;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
            box-shadow: 0 4px 0px rgba(0,0,0,0.25);
            border-radius: 0.75rem;
        }
        .option-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 0px rgba(0,0,0,0.25);
        }
        .option-btn:active {
            transform: translateY(2px);
            box-shadow: 0 2px 0px rgba(0,0,0,0.25);
        }
        .correct {
            background-color: #22c55e !important;
        }
        .incorrect {
            background-color: #ef4444 !important;
        }
        .star {
            font-size: 3rem;
            color: #d1d5db;
            transition: color 0.5s ease;
        }
        .star.filled {
            color: #f59e0b;
        }
        #feedback {
            transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
        }
        .progress-bar {
            background-color: #e5e7eb;
            border-radius: 9999px;
            overflow: hidden;
            height: 12px;
        }
        .progress-bar-inner {
            background-color: #3b82f6;
            height: 100%;
            width: 0%;
            transition: width 0.5s ease-in-out;
            border-radius: 9999px;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <div id="quiz-container" class="w-full max-w-3xl mx-auto">
        <!-- Header Kartı -->
        <div class="main-card p-4 sm:p-5 mb-6">
            <div class="flex justify-between items-center w-full">
                <div class="flex items-center space-x-4">
                    <div id="lives" class="flex items-center space-x-1">
                        <!-- Canlar (Kalpler) -->
                    </div>
                    <div id="score-display" class="bg-amber-400 text-white font-bold px-4 py-1.5 rounded-lg text-lg">
                        Puan: 0
                    </div>
                </div>
                <div class="flex-grow mx-4 sm:mx-8">
                    <div class="progress-bar">
                        <div id="progress-bar-inner" class="progress-bar-inner"></div>
                    </div>
                </div>
                <div class="text-lg font-bold text-gray-600 whitespace-nowrap">
                    Soru: <span id="question-number">1</span>/12
                </div>
            </div>
        </div>

        <!-- Soru ve Seçenekler Kartı -->
        <div class="main-card chalkboard p-6 sm:p-10">
            <div class="mb-8 min-h-[8rem] flex items-center justify-center">
                <h2 id="question-text" class="font-bold text-center"></h2>
            </div>
            <div id="options-container" class="grid grid-cols-1 sm:grid-cols-2 gap-5">
                <!-- Seçenekler -->
            </div>
        </div>
    </div>

    <!-- Sonuç Ekranı -->
    <div id="result-container" class="hidden w-full max-w-2xl mx-auto text-center">
        <div class="main-card p-8 sm:p-12">
            <h2 class="text-4xl font-bold text-blue-700 mb-4">Test Bitti!</h2>
            <p class="text-xl text-gray-700 mb-6">Sonucun:</p>
            <div class="flex justify-center items-center space-x-2 mb-8" id="stars-container">
                <span class="star">&#9733;</span>
                <span class="star">&#9733;</span>
                <span class="star">&#9733;</span>
            </div>
            <p class="text-2xl font-semibold text-gray-800">
                Toplam Puan: <span id="final-score">0</span>
            </p>
             <p class="text-lg text-gray-600 mt-2">
                <span id="final-correct">0</span> Doğru, <span id="final-mistakes">0</span> Yanlış
            </p>
            <button onclick="location.reload()" class="mt-8 w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-xl hover:bg-blue-700 transition-all duration-300 text-lg shadow-lg">
                Yeniden Başla
            </button>
        </div>
    </div>

    <!-- Geri Bildirim -->
    <div id="feedback" class="fixed bottom-5 right-5 opacity-0 transform translate-y-10 p-4 rounded-xl text-white font-bold shadow-2xl"></div>

    <script>
        const questions = [
            { question: "Hangi cümlede zıt anlamlı kelimeler beraber kullanılmıştır?", options: ["Sıcak soğuk demeden yola çıktı.", "Elindeki poşetler ağırdı.", "Kırmızı kazağını giymişti."], answer: "Sıcak soğuk demeden yola çıktı." },
            { question: "'Çok <span class='text-yellow-300 font-bold'>kibar</span> bir çocuk.' cümlesindeki renkli kelimenin zıttı nedir?", options: ["Nazik", "Kaba", "İyi"], answer: "Kaba" },
            { question: "Hangi seçenekteki kelime çifti zıt anlamlı <b>değildir</b>?", options: ["Sağlam - Çürük", "Dar - Geniş", "Öykü - Hikaye"], answer: "Öykü - Hikaye" },
            { question: "'Cömert' kelimesinin zıt anlamlısı hangisidir?", options: ["Paylaşımcı", "Eli açık", "Cimri"], answer: "Cimri" },
            { question: "'Elbisem hala <span class='text-yellow-300 font-bold'>ıslak</span> kalmış.' cümlesindeki renkli kelimenin zıttı nedir?", options: ["Nemli", "Yaş", "Kuru"], answer: "Kuru" },
            { question: "Hangi seçenekteki kelimeler birbirinin zıttıdır?", options: ["Kalabalık - Tenha", "Hekim - Doktor", "Armağan - Hediye"], answer: "Kalabalık - Tenha" },
            { question: "Hangi cümlede zıt anlamlı kelimeler bir arada kullanılmıştır?", options: ["Onu az çok tanırım.", "Kardeşimle oyun oynadık.", "Evimiz okula yakındı."], answer: "Onu az çok tanırım." },
            { question: "'Tavan' kelimesinin zıt anlamlısı hangisidir?", options: ["Çatı", "Taban", "Oda"], answer: "Taban" },
            { question: "'Çözdüğüm problem çok <span class='text-yellow-300 font-bold'>basitti</span>.' cümlesindeki renkli kelimenin zıttı nedir?", options: ["Kolay", "Zor", "Anlaşılır"], answer: "Zor" },
            { question: "Hangi kelime çifti zıt anlamlı <b>değildir</b>?", options: ["Kirli - Temiz", "Soru - Cevap", "Esir - Tutsak"], answer: "Esir - Tutsak" },
            { question: "Hangi cümlede zıt anlamlı kelimeler <b>kullanılmamıştır</b>?", options: ["İrili ufaklı taşlar topladı.", "Yaz kış demeden çalıştı.", "Arkadaşım dün bize geldi."], answer: "Arkadaşım dün bize geldi." },
            { question: "'Barış' kelimesinin zıt anlamlısı hangisidir?", options: ["Dostluk", "Savaş", "Anlaşma"], answer: "Savaş" }
        ];

        let currentQuestionIndex = 0;
        let correctAnswers = 0;
        let lives = 4;
        let totalScore = 0;

        const questionNumberEl = document.getElementById('question-number');
        const questionTextEl = document.getElementById('question-text');
        const optionsContainerEl = document.getElementById('options-container');
        const livesEl = document.getElementById('lives');
        const quizContainerEl = document.getElementById('quiz-container');
        const resultContainerEl = document.getElementById('result-container');
        const finalScoreEl = document.getElementById('final-score');
        const finalCorrectEl = document.getElementById('final-correct');
        const finalMistakesEl = document.getElementById('final-mistakes');
        const starsContainerEl = document.getElementById('stars-container');
        const feedbackEl = document.getElementById('feedback');
        const scoreDisplayEl = document.getElementById('score-display');
        const progressBarInnerEl = document.getElementById('progress-bar-inner');
        
        const optionColors = [
            'bg-rose-500 hover:bg-rose-600',
            'bg-sky-500 hover:bg-sky-600',
            'bg-emerald-500 hover:bg-emerald-600'
        ];

        function startQuiz() {
            updateLivesDisplay();
            updateProgressBar();
            displayQuestion();
        }

        function displayQuestion() {
            if (currentQuestionIndex >= questions.length || lives <= 0) {
                showResult();
                return;
            }

            const currentQuestion = questions[currentQuestionIndex];
            questionNumberEl.textContent = `${currentQuestionIndex + 1}`;
            questionTextEl.innerHTML = currentQuestion.question;
            optionsContainerEl.innerHTML = '';

            const shuffledOptions = [...currentQuestion.options].sort(() => Math.random() - 0.5);
            const shuffledColors = [...optionColors].sort(() => Math.random() - 0.5);

            shuffledOptions.forEach((option, index) => {
                const color = shuffledColors[index];
                const button = document.createElement('button');
                button.textContent = option;
                button.className = `option-btn w-full py-4 px-5 text-xl sm:text-2xl ${color}`;
                button.onclick = () => selectAnswer(option, button);
                optionsContainerEl.appendChild(button);
            });
            if (shuffledOptions.length === 3) {
                 optionsContainerEl.lastChild.classList.add('sm:col-span-2', 'sm:w-1/2', 'sm:mx-auto');
            }
        }

        function selectAnswer(selectedOption, button) {
            const buttons = optionsContainerEl.getElementsByTagName('button');
            for (let btn of buttons) {
                btn.disabled = true;
            }

            const correct = selectedOption === questions[currentQuestionIndex].answer;

            if (correct) {
                correctAnswers++;
                totalScore += 10;
                scoreDisplayEl.textContent = `Puan: ${totalScore}`;
                button.classList.add('correct');
                showFeedback('Doğru!', 'bg-green-500');
            } else {
                lives--;
                updateLivesDisplay();
                button.classList.add('incorrect');
                showFeedback('Yanlış!', 'bg-red-500');
                for (let btn of buttons) {
                    if (btn.textContent === questions[currentQuestionIndex].answer) {
                        btn.classList.add('correct');
                        break;
                    }
                }
            }

            setTimeout(() => {
                currentQuestionIndex++;
                updateProgressBar();
                displayQuestion();
            }, 1500);
        }
        
        function showFeedback(message, bgColor) {
            feedbackEl.textContent = message;
            feedbackEl.className = `fixed bottom-5 right-5 p-4 rounded-xl text-white font-bold shadow-2xl ${bgColor} opacity-0 transform translate-y-10`;
            setTimeout(() => {
                 feedbackEl.classList.remove('opacity-0', 'translate-y-10');
                 feedbackEl.classList.add('opacity-100', 'translate-y-0');
            }, 10);
            setTimeout(() => {
                feedbackEl.classList.remove('opacity-100', 'translate-y-0');
                feedbackEl.classList.add('opacity-0', 'translate-y-10');
            }, 1400);
        }

        function updateLivesDisplay() {
            livesEl.innerHTML = '';
            for (let i = 0; i < 4; i++) {
                const heart = document.createElement('span');
                heart.innerHTML = '&#10084;';
                if (i < lives) {
                    heart.className = 'text-red-500 text-3xl';
                } else {
                    heart.className = 'text-gray-300 text-3xl';
                }
                livesEl.appendChild(heart);
            }
        }

        function updateProgressBar() {
            const progress = (currentQuestionIndex / questions.length) * 100;
            progressBarInnerEl.style.width = `${progress}%`;
        }

        function showResult() {
            quizContainerEl.style.display = 'none';
            resultContainerEl.classList.remove('hidden');

            const mistakes = questions.length - correctAnswers;
            finalScoreEl.textContent = totalScore;
            finalCorrectEl.textContent = correctAnswers;
            finalMistakesEl.textContent = mistakes;


            const stars = starsContainerEl.getElementsByClassName('star');
            let starCount = 0;
            if (correctAnswers >= 11) starCount = 3;
            else if (correctAnswers >= 8) starCount = 2;
            else if (correctAnswers >= 5) starCount = 1;

            for (let i = 0; i < starCount; i++) {
                setTimeout(() => {
                    stars[i].classList.add('filled');
                }, i * 300);
            }
        }

        startQuiz();
    </script>

</body>
</html>

